def le_matriz_int ( m : int, n : int ) -> list :
    M = [[0 for c in range(n)] for l in range(m)]
    for linha in range(m):
        itens_lin = input().split(" ")
        for coluna in range(n):
            M[linha][coluna] = int(itens_lin[coluna])
    return M

def exibe_matriz_int ( matriz : list ) : 
    for linha in matriz:
        for elemento in linha:
            print(elemento, end=' ')
        print()

def media_linha_coluna ( matriz : list , ind : int , linha : bool ) -> float : 
    soma = 0
    if linha == True:
        for elemento in range(n):
            soma += matriz[ind][elemento]
        media = soma/n
        soma = 0
        return media
        
    if linha == False:
        for elemento in range(m):
            soma += matriz[elemento][ind]
        media = soma/m
        soma = 0
        return media
        
m = int(input())
n = int(input())

matriz = le_matriz_int(m, n)

print("Medias das linhas:")
linha = True
for ind in range(m):
    media = media_linha_coluna(matriz, ind, linha)
    print("%.2f" % media, end=' ')
print()
print("Medias das colunas:")
linha = False
for ind in range(n):
    media = media_linha_coluna(matriz, ind, linha)
    print("%.2f" % media, end=' ')
print()
exibe_matriz_int(matriz)
